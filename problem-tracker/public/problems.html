<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Modpack Problem List</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Modpack Problem List</h1>
    <p>Modpack Version: <span id="modPackVersion"></span></p>

    <!-- List of problems with status -->
    <ul id="problemList"></ul>

    <!-- JavaScript code for loading the problem list -->
    <script>
        // Function to load and display the problem list
        async function loadProblemList() {
            const response = await fetch("/getProblems");
            const problems = await response.json();

            const problemList = document.getElementById("problemList");
            problemList.innerHTML = ""; // Clear existing list

            problems.forEach(problem => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `
                    <strong>${problem.title}</strong><br>
                    Description: ${problem.description}<br>
                    Status: ${problem.status}<br>
                `;

                problemList.appendChild(listItem);
            });
        }

        // Load the mod pack version
        async function loadModPackVersion() {
            const response = await fetch("/getModPackVersion");
            const version = await response.text();
            document.getElementById("modPackVersion").textContent = version;
        }

        // Load the problem list and mod pack version when the page loads
        window.addEventListener("load", () => {
            loadProblemList();
            loadModPackVersion();
        });
    </script>
</body>
</html>
