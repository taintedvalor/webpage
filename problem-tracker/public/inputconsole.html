<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Submit a Problem</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Submit a Problem</h1>

    <form id="problemForm">
        <label for="titleInput">Title:</label>
        <input type="text" id="titleInput" name="title" placeholder="Enter a brief title for the problem" required>

        <label for="descriptionInput">Description:</label>
        <textarea id="descriptionInput" name="description" placeholder="Enter a detailed description of the problem" required></textarea>

        <button type="submit">Submit Problem</button>
    </form>

    <!-- JavaScript code for handling problem submission -->
    <script>
        // Function to submit a problem report to the server
        async function submitProblemReport(event) {
            event.preventDefault();

            const form = document.getElementById("problemForm");
            const formData = new FormData(form);

            const title = formData.get("title");
            const description = formData.get("description");

            if (!title || !description) {
                alert("Please enter both a title and a description.");
                return;
            }

            const response = await fetch("/submitProblem", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ title, description, status: "unhandled" }),
            });

            if (response.status === 200) {
                alert("Problem report submitted successfully!");
                form.reset();
            } else {
                alert("Error submitting problem report.");
            }
        }

        // Attach event listener to the form submit event
        document.getElementById("problemForm").addEventListener("submit", submitProblemReport);
    </script>
</body>
</html>
